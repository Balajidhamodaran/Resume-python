pipeline{
  agent { label 'Jenkins-Agent'}
  tools { 
        maven 'Mymaven'
}
stages {
  stage("Cleanup Workspace") {
     steps {
     CleanWs()
  }
}
stage("Checkout from SCM") {
   steps {
   git branch: 'main', credentialsId: 'github', url: 'https://github.com/Balajidhamodaran/me/new/main'
}
}
stage("Build application") {
 steps {
    sh "mvn clean package"
}
}
stage("Test application") {
steps { sh "mvn test"}
}
}
